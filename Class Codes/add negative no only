LDA 4000H

MOV C,A
MVI B, 00H
MOV D, B

LXI H, 4001H

L1: MOV A, M
ANI 80H
JNZ L2
MOV A,B
ADD M
MOV B, A
JNC L2
INR D

L2: INX H
DCR C
JNZ L1
MOV A, B
STA 400CH
MOV A,D
STA 400DH

HLT